<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title></title>
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5B6JYY2CFL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-5B6JYY2CFL');
  </script>

</head>

<body class="bg-gray-100 font-sans text-gray-800">
  <div
    class="relative isolate flex items-center gap-x-6 overflow-hidden bg-green-100 px-6 py-2.5 sm:px-3.5 sm:before:flex-1">
    <div class="absolute left-[max(-7rem,calc(50%-52rem))] top-1/2 -z-10 -translate-y-1/2 transform-gpu blur-2xl"
      aria-hidden="true">
      <div class="aspect-[577/310] w-[36.0625rem] bg-gradient-to-r from-[#a8eba2] to-[#31ff8a] opacity-30"
        style="clip-path: polygon(74.8% 41.9%, 97.2% 73.2%, 100% 34.9%, 92.5% 0.4%, 87.5% 0%, 75% 28.6%, 58.5% 54.6%, 50.1% 56.8%, 46.9% 44%, 48.3% 17.4%, 24.7% 53.9%, 0% 27.9%, 11.9% 74.2%, 24.9% 54.1%, 68.6% 100%, 74.8% 41.9%)">
      </div>
    </div>
    
    <div class="absolute left-[max(45rem,calc(50%+8rem))] top-1/2 -z-10 -translate-y-1/2 transform-gpu blur-2xl"
      aria-hidden="true">
      <div class="aspect-[577/310] w-[36.0625rem] bg-gradient-to-r from-[#347250] to-[#65f841] opacity-30"
        style="clip-path: polygon(74.8% 41.9%, 97.2% 73.2%, 100% 34.9%, 92.5% 0.4%, 87.5% 0%, 75% 28.6%, 58.5% 54.6%, 50.1% 56.8%, 46.9% 44%, 48.3% 17.4%, 24.7% 53.9%, 0% 27.9%, 11.9% 74.2%, 24.9% 54.1%, 68.6% 100%, 74.8% 41.9%)">
      </div>
    </div>
    <div class="flex flex-wrap items-center gap-x-4 gap-y-2">
      <p class="text-sm leading-6 text-black" id="header">

      </p>
    </div>
    <div class="flex flex-1 justify-end">
      <button type="button" class="-m-3 p-3 focus-visible:outline-offset-[-4px]">
        
      </button>
    </div>
  </div>
  
  <!-- POSTS -->
  <div class="container">
    <div class="grid justify-evenly sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4" id="posts">

    </div>
  </div>
  <!--FOOTER  -->
  <footer
    class="fixed bottom-0 left-0 z-20 w-full border-t border-gray-200 bg-white p-3 shadow md:flex md:items-center md:justify-between md:p-6">
    <span class="text-sm text-gray-500 sm:text-center" id="footer"></span>
  </footer>
  <script>

    let lang = "en"
    const language_pack_url = "/languages/index.json"
    const HEADER_HTML_STYLE = "font-bold text-[#4c9c7f]"
    const PARAPGRAPH_HTML_STYLE = "mb-5 font-light text-gray-500"
    const LINK_HTML_STYLE = "rounded-lg bg-[#4c9c7f] px-2 py-1.5 text-center text-white hover:bg-[#3b7e64]"
    const ARTICLE_HTML_STYLE = "container rounded-2xl bg-white p-5 shadow-2xl"
    const POST_HTML_STYLE = "m-5 mb-5 flex grid-cols-2 justify-evenly gap-6"

    //GENERATE HEADER ELEMENT
    function generatePostHeader(element) {
      let newHeader = document.createElement("header");
      newHeader.className = HEADER_HTML_STYLE
      newHeader.innerHTML = Object.getOwnPropertyDescriptor(element.title, lang).value
      return newHeader
    }
    //GENEREATE PARAGRAPH ELEMENT
    function generatePostParagraph(element) {
      const newParagraph = document.createElement("p");
      newParagraph.className = PARAPGRAPH_HTML_STYLE
      newParagraph.innerHTML = Object.getOwnPropertyDescriptor(element.description, lang).value
      return newParagraph
    }
    //GENEARTE POST LINK
    function generatePostLink(element) {
      const newLink = document.createElement("a");
      newLink.className = LINK_HTML_STYLE
      newLink.innerHTML = Object.getOwnPropertyDescriptor(element.open, lang).value
      newLink.href = element.link
      return newLink
    }
    //GENERATE ARTICLE
    function generateArticle(newHeader, newParagraph, newLink) {
      const newArticle = document.createElement("article");
      newArticle.className = ARTICLE_HTML_STYLE
      newArticle.appendChild(newHeader)
      newArticle.appendChild(newParagraph)
      newArticle.appendChild(newLink)
      return newArticle
    }
    //GENERATE POST
    function generaetePost(newArticle) {
      const newDiv = document.createElement("div");
      newDiv.className = POST_HTML_STYLE
      newDiv.appendChild(newArticle)
      return newDiv
    }
    async function setElements(lang, language_pack) {
      let posts = language_pack.posts.map(element => {
        //INICIALISE NEW HEADER
        const newHeader = generatePostHeader(element)

        //INIT PARAGRAPH
        const newParagraph = generatePostParagraph(element)

        //INIT LINK
        const newLink = generatePostLink(element)

        //CREATE ARTICLE NODE
        const newArticle = generateArticle(newHeader, newParagraph, newLink)

        //CREATE PARENT NODE AND RETURN
        return generaetePost(newArticle)
      });
      document.title = Object.getOwnPropertyDescriptor(language_pack.title, lang).value
      document.getElementById("header").innerHTML = Object.getOwnPropertyDescriptor(
        language_pack.header,
        lang
      ).value
      document.getElementById("footer").innerHTML = Object.getOwnPropertyDescriptor(language_pack.footer, lang).value
      for (const iterator of posts) {
        document.getElementById("posts").appendChild(iterator)
      }
    }
    async function aquire_and_change(lang) {
      k = await fetch(language_pack_url)
      z = await k.json()
      setElements(lang, z)
    }
    aquire_and_change(lang)


  </script>
</body>

</html>